{% extends 'base.html.twig' %}

{% set pagetitle = '' %}

{% macro frontblock(icon, label, link, value, style) %}
    <div class="statblock"{% if style %} style="{{style}}"{% endif %}title="{{label}}"><div onclick="window.location='{{ link }}'">
        <span class="icon icon-{{ icon }}"></span>
        <span class="value">{{ value }}</span>
        <span class="label">{{ label }}</span>
    </div></div>
{% endmacro %}

{% block body %}

<div class="frontvideo"><iframe src="https://www.youtube.com/embed/CmzKQ3PSrow" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></embed></div>

<div class="stats">
    {{ _self.frontblock('bubbles', 'Sessions', path('theme_index'), themes|length) }}
    {{ _self.frontblock('file-text', 'Abstracts', path('imdis_abstract_index'), abstracts|length) }}
    {{ _self.frontblock('display', 'Oral Presentations', path('program_index'), abstracts|filter((a) => a.presentation)|length) }}
    {{ _self.frontblock('image', 'Posters', path('poster_index'), abstracts|filter((a) => a.poster)|length) }}
</div>
<div style="clear:both"></div>
{% if imdis.registration_status != 'future' %}
    <div class="stats {% if app.user or imdis.registration_status == 'closed'%}user{% endif%}">
        {{ _self.frontblock('users', 'Registrations', path('user_index'), users.total, 'float:left') }}
        {{ _self.frontblock('earth', 'Countries', path('user_index'), users.countries, 'float:right') }}

        {% if not app.user and imdis.registration_status == 'open' %}<div class="statblock register"><div onclick="window.location='{{path('app_register')}}';"><span class="icon-user-plus"></span> Register now</div></div>{% endif %}
    </div>
{% endif %}
<div style="clear:both"></div>
{% endblock %}
